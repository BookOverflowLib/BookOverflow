DocumentRoot /var/www/html/public
<Directory /var/www/html/public>
    AllowOverride All
    Require all granted
    
    # Abilita rewrite engine
    RewriteEngine On
    
    # Gestione della homepage
    RewriteRule ^$ index.php [L]
    
    # Rewrite /profilo/username to /profilo?user=username
    RewriteRule ^profilo/([^/]+)/?$ profilo.php?user=$1 [L,QSA]

    # Se la richiesta non Ã¨ per una directory esistente
    RewriteCond %{REQUEST_FILENAME} !-d
    # Se esiste un file .php con lo stesso nome
    RewriteCond %{REQUEST_FILENAME}\.php -f
    # Escludi profilo.php dal rewrite generico
    RewriteCond %{REQUEST_URI} !^/profilo\.php
    # Rewrite della richiesta al file .php
    RewriteRule ^(.*)$ $1.php [L]

</Directory>